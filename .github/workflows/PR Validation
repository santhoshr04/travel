      - name: Send Merge Conflict Notification to Discord
        if: always()
        run: |
          if [[ "${{ env.conflict }}" == "true" ]]; then
            TITLE="‚ùå Merge Conflict Detected - ${{ github.event.pull_request.title }}"
            DESCRIPTION="Resolve conflicts before merging.\n\nüîó **PR:** [View PR](${{ github.event.pull_request.html_url }})\nüë§ **Author:** ${{ github.event.pull_request.user.login }}"

            JSON_PAYLOAD=$(jq -n --arg title "$TITLE" --arg desc "$DESCRIPTION" '{
              "embeds": [{
                "title": $title,
                "description": $desc,
                "color": 16711680
              }]
            }')

            curl -H "Content-Type: application/json" \
                 -X POST \
                 -d "$JSON_PAYLOAD" \
                 ${{ secrets.DISCORD_WEBHOOK }}
            exit 1  # Ensure the job fails if there are conflicts
          fi

      - name: Send Success Notification to Discord
        if: success()
        run: |
          TITLE="‚úÖ PR is Ready for Merge - ${{ github.event.pull_request.title }}"
          DESCRIPTION="No merge conflicts found! üéâ\n\nüîó **PR:** [View PR](${{ github.event.pull_request.html_url }})\nüë§ **Author:** ${{ github.event.pull_request.user.login }}"

          JSON_PAYLOAD=$(jq -n --arg title "$TITLE" --arg desc "$DESCRIPTION" '{
            "embeds": [{
              "title": $title,
              "description": $desc,
              "color": 65280
            }]
          }')

          curl -H "Content-Type: application/json" \
               -X POST \
               -d "$JSON_PAYLOAD" \
               ${{ secrets.DISCORD_WEBHOOK }}
